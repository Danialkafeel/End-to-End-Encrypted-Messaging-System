A small working sample of client and server program, you have to combine this into one to make a single client since a client will have both server and client side.
It is preferable to make a new connection object(an instance of the connection class), whenever a new connection gets formed.